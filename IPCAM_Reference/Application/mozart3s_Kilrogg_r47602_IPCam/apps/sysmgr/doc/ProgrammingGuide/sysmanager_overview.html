<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=big5">
    <title>System Manager - Overview</title>
    <link rel="stylesheet" type="text/css" href="template/vivo_doc.css">
</head>

<body>
    <!------ An intra link flag "top"------>
    <a name="top"></a>

    <!------ Document title ------>
    <div class="title">System Manager - Overview</div>
    <!------ Section title ------>
    <div class="banner">
        <div class="spacer"></div>
        <span class="left">Overview</span>
        <span class="right"><a href="#top">[Top]</a></span>
        <div class="spacer"></div>
    </div>
    <!------ Section content ------>
    <div class="content">
        <p>System manger ('SysMgr' in short) is used to modify the system settings. The system settings includes security, 
           network, system log and time. SysMgr receives commands from fifo (default fifo path : /tmp/sys_mgr.fifo).</p>
        <p>The default command format is defined :<p>
        <p><li>CMD_CODE &nbsp;&nbsp;&nbsp;  <i>cmd_string</i>  &nbsp;&nbsp;&nbsp; END_OF_CMD</li></p>
        <table class="clear_blue">
            <thead>
                <tr>
                    <th>CMD</th>
                    <th>CMD_CODE</th>
                    <th></th>
            </thead>
            <tfoot>
                <th></th>
                <td><td>
            </tfoot>
            <tbody>
                <tr class="odd">
                    <th>CMD_SYS_SECURITY</th>
                    <td>0x30 
                <tr>
                    <th>CMD_NETWORK_CONF</th>
                    <td>0x31
                <tr class="odd">
                    <th>CMD_SYSLOG_CONF</th>
                    <td>0x32
                <tr>
                    <th>CMD_SYS_REBOOT</th>
                    <td>0x33
                <tr class="odd">
                    <th>CMD_SET_SYSTEM</th>
                    <td>0x34
                <tr>
                    <th>END_OF_COMMAND</th>
                    <td>0x24
            </tbody>
        </table>               
        <p>Two kinds of configuration files exist in our system. One is the Linux system configuration file, 
           the other is Kilrogg configuration file. The Kilrogg configuration files are all in XML format.</p>
        <p>Below is the Kilrogg remote syslog XML configuration :</p>
        <p><iframe src="config.xml" width="80%" height="200"></iframe>
        <p>In general, some applications (ex. http server cgi) will modify the XML configuration files and write the configurations <font color="red">to a temporal file.</font>
           Because these applications <font color="red">do not have the permission</font> (the configuration files are located in /etc/conf.d in general) to modify the configuration 
           files directly, therefore the new configurations should be written to a temporal file. Then SysMgr will move the temporal configuration files to 
           replace the original one. Finally, SysMgr parses the configuration files and modify the Linux system configuration file.</p>
      	<p><img border="0" src="Dia/sysmgr_flow.png" title="Flow" />
    </div>
</body>
</html>
